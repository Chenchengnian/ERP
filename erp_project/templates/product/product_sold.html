{% extends 'base.html' %}

{% load staticfiles %}

{% block search %}
<h1>商品销货</h1>
{% endblock %}

{% block body %}
<form style="padding-left: 5%" class="form" action="." method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <label>商品名称:</label>
    <div class="form-group">
        <h2>{{ product.name }}</h2>
        <br>
    </div>

    <script>
        function show() {
          document.getElementById("dialog-img").style.display = 'block';
        }
        function hide{{ p.id }}() {
          document.getElementById("dialog-img").style.display = 'none';
        }

    </script>
    <label>商品图片:</label>
    <div class="form-group">
         <div style="height: 400px; width: 400px"><img style="height: 100%; width: 100%" src="/media/{{ product.image }}"></div>
        <br>
    </div>


    <label >商品分类:</label>
    <div class="form-group">
        <h2>{{ product.category }}</h2>
        <br>
    </div>

    <label >销售时间:</label>
    <div class="form-group">
        <input type="text" name="sale_date" maxlength="19" required="" id="id_sale_date" autocomplete="off" value="{{ sale_time }}">
        <br>
    </div>

    <label>库存数量:</label>
    <div class="form-group">
        <h2>{{ product.storage }}</h2>
        <br>
    </div>


    <label for="id_storage">销售数量:</label>
    <div class="form-group">
        <label><input type="number" name="storage" required="" id="id_storage" autocomplete="off"
                      oninput="if(value>{{ product.storage }})value={{ product.storage}};if(value<0)value=1;if(value==0)value=''" placeholder="请输入销售数量"></label>

        <br>
    </div>

    <label>商品定价:</label>
    <div class="form-group">
        <h2>{{ product.price }}</h2>
        <br>
    </div>

    <label for="id_price">商品售价:</label>
    <div class="form-group">
        <label><input type="number" name="price" step="any" required=""
                      oninput="if(value<1)value=1" id="id_price"></label>
        <br>
    </div>


    <label for="id_custom">购买者:</label>
    <div class="form-group">
        <label><input type="text" name="custom" required="" id="id_custom" list="custom_list" autocomplete="off"
                      maxlength="20"></label>
        <datalist id="custom_list" style="display:none;">
            {% for custom in custom_list %}
            <option value="{{ custom.username }}">{{ custom.username }}</option>
            {% endfor %}
        </datalist>

        <br>
    </div>

    <label for="payment_method">付款方式:</label>
    <div class="form-group">
        <label><input type="text" name="payment_method" step="any" required="" id="payment_method"></label>
        <br>
    </div>


    <button style="width:200px" type="submit" class="btn btn-primary btn-block">确认销货</button>
</form>
{% endblock %}
{% extends 'base.html' %}

{% load staticfiles %}

{% block search %}
<h1>销售商品更新</h1>
{% endblock %}

{% block body %}
<form style="padding-left: 5%" class="form" action="." method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <label for="id_name">商品名称:</label>
    <div class="form-group">
        <label><input type="text" name="name" maxlength="200" required="" id="id_name"
                      value="{{ product.name }}"></label>
        <br>
    </div>


    <label for="id_price">销售价格:</label>
    <div class="form-group">
        <label><input type="number" name="price" step="any" required="" id="id_price"
                      value="{{ product.sold_price }}"></label>
        <br>
    </div>


    <label for="id_image">商品图片:</label>
    <div class="form-group">
        <label><input type="file" name="image" id="id_image"></label>
        <br>
    </div>

    <label for="id_category">分类:</label>
    <div class="form-group">
        <label><input placeholder="{{ product.category }}" type="text" name="category" id="id_category" list="category_list" autocomplete="off"
                      maxlength="20"></label>
        <datalist id="category_list" style="display:none;">
            {% for c in category %}
            <option>{{ c.name }}</option>
            {% endfor %}
        </datalist>

        <br>
    </div>


    <label for="id_storage">销售数量:</label>
    <div class="form-group">
        <label><input type="number" name="storage" required="" id="id_storage" value="{{ product.storage }}"
                      oninput="if(value>{{ allow_storage }})value={{ allow_storage }};if(value<0)value=1;if(value==0)value=''"></label>
        <br>
    </div>

 <label for="id_custom">购买/预定人:</label>
    <div class="form-group">
        <label><input placeholder="{{ product.purchaser }}" type="text" name="custom" id="id_custom" list="custom_list" autocomplete="off"
                      maxlength="20"></label>
        <datalist id="custom_list" style="display:none;">
            {% for c in custom %}
            <option>{{ c.username }}</option>
            {% endfor %}
        </datalist>

        <br>
    </div>



    <button style="width:200px" type="submit" class="btn btn-primary btn-block">确认修改</button>
</form>
{% endblock %}